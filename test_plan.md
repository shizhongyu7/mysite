
# Test Plan

## Use Cases

### 1 主页加载
打开主页（`/`），检查：
- 页面成功加载（HTTP 200）
- 网页标题正确显示
- 导航栏和切换语言按钮显示
- 页面没有控制台报错
- favicon 正确加载

---

### 2 提交留言（正常）
输入用户名和留言内容，点击“发送”：
- 新留言立即出现在留言列表（无需刷新页面）
- 留言中显示用户名、内容、时间戳（时间格式正确：`YYYY-MM-DD HH:MM`）
- 留言的背景样式正常（气泡、时间在右上角）
- cookie 保存了用户名（用浏览器检查 cookie 或刷新后输入框自动填入）

---

### 3 提交留言（频繁提交限流）
3 秒内连续两次提交：
- 弹出红色 flash 提示（不是浏览器 alert）
- 提示内容为：
  - 中文：`提交太频繁，请稍候再试`
  - 英文：`Please wait before submitting again`
- 页面不刷新

---

### 4 切换语言
切换语言按钮点击后：
- 页面切换到对应语言
- 刷新页面后语言保持不变（cookie 生效）
- 留言内容和时间戳格式不受影响

---

### 5 管理员功能（需登录）
管理员密码登录后台：
- 正确密码进入后台，显示留言表格
- 回复留言后，前台显示回复内容
- 删除留言后，留言立即消失
- 刷新页面后台状态保持（session 有效）

---

### 6 前端样式
检查：
- 留言气泡 hover 有颜色变化
- 时间戳靠右且没有多余字符（如 `u`）
- 响应式：在手机 / 窄屏下样式无错位

---

### 7 cookie / 本地存储
检查：
- 提交留言后 `username` cookie 存在，且在不同浏览器能用
- 刷新页面，用户名自动填入输入框

---

### 8 错误处理
检查：
- 请求不存在页面，返回自定义 404 页面
- 非管理员访问后台，返回自定义 403 页面
- 数据库关闭或异常时，返回友好错误信息